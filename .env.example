# Environment Configuration Example
#
# MULTI-ENVIRONMENT SETUP:
# ========================
# The app loads env files in this priority order:
#   1. .env.{NODE_ENV}.local  (e.g., .env.production.local - highest priority)
#   2. .env.{NODE_ENV}        (e.g., .env.production or .env.development)
#   3. .env.local             (local overrides, gitignored)
#   4. .env                   (default fallback)
#
# Recommended setup:
#   - .env.local        -> Your local dev config (localhost URLs)
#   - .env.production   -> Your production config (production URLs)
#
# Scripts:
#   pnpm dev         -> Runs with NODE_ENV=development (uses .env.local)
#   pnpm start:prod  -> Runs with NODE_ENV=production (uses .env.production)
#
# Copy this file to .env.local for development or .env.production for prod

# ============================================
# Application Settings
# ============================================
NODE_ENV=production
PORT=3000
HOST=0.0.0.0
LOG_LEVEL=info

# REQUIRED: Base URL for email action buttons (Done/Remove links)
# This MUST be set to your production URL for email buttons to work
# Example: https://your-domain.com or http://your-droplet-ip:3000
BASE_URL=http://your-droplet-ip:3000

# ============================================
# Database
# ============================================
# Path to SQLite database file
DB_PATH=/app/data/app.db

# ============================================
# Security
# ============================================
# REQUIRED: 32-byte encryption key for storing OAuth tokens
# Generate with: openssl rand -hex 32
ENCRYPTION_SECRET=your-32-byte-hex-key-here

# ============================================
# Google OAuth (for Calendar & Gmail API)
# ============================================
# Get these from Google Cloud Console:
# https://console.cloud.google.com/apis/credentials

GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_REDIRECT_URI=http://your-droplet-ip:3000/auth/google/callback

# ============================================
# AI Provider (for email parsing)
# ============================================
# You can configure one or both providers.
# The dashboard lets you choose which to use.

# For OpenAI (GPT-4o)
OPENAI_API_KEY=sk-your-openai-api-key

# For Anthropic (Claude 3.5 Sonnet)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# Legacy: If you only have one key, you can use AI_API_KEY
# It will be used as fallback for whichever provider you select
# AI_API_KEY=your-api-key-here

# ============================================
# Cron Schedule (Daily Summary)
# ============================================
# Default: Daily at 8:00 AM UTC
# Format: second minute hour day-of-month month day-of-week
CRON_SCHEDULE=0 0 8 * * *

# Timezone for cron jobs
TZ=UTC

# ============================================
# Google Drive Backups (Optional)
# ============================================
# Path to service account JSON credentials file
GOOGLE_SERVICE_ACCOUNT_PATH=/app/credentials.json

# Optional: Specific folder ID in Google Drive for backups
# Get from Drive URL: https://drive.google.com/drive/folders/FOLDER_ID_HERE
# GOOGLE_DRIVE_FOLDER_ID=your-folder-id-here

# ============================================
# Deployment Settings (for deploy.sh)
# ============================================
# SSH user for deployment (default: root)
# REMOTE_USER=root

# Remote path for application (default: /app/inbox-manager)
# REMOTE_PATH=/app/inbox-manager
