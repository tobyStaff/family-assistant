# Environment Configuration Example
#
# SINGLE FILE SETUP (Recommended):
# ================================
# Use _LOCAL and _PROD suffixes for URLs. The app automatically picks
# the right one based on NODE_ENV:
#   - NODE_ENV=development -> uses *_LOCAL variables
#   - NODE_ENV=production  -> uses *_PROD variables
#
# This lets you deploy the same .env file to production without changes.
#
# Copy this file to .env and fill in your values.

# ============================================
# Application Settings
# ============================================
PORT=3000
HOST=0.0.0.0
LOG_LEVEL=info

# REQUIRED: Base URL for email action buttons (Done/Remove links)
# Set both _LOCAL and _PROD versions - the app picks based on NODE_ENV
BASE_URL_LOCAL=http://localhost:3000
BASE_URL_PROD=https://your-production-domain.com

# ============================================
# Database
# ============================================
# Path to SQLite database file
DB_PATH=/app/data/app.db

# ============================================
# Security
# ============================================
# REQUIRED: 32-byte encryption key for storing OAuth tokens
# Generate with: openssl rand -hex 32
ENCRYPTION_SECRET=your-32-byte-hex-key-here

# ============================================
# Google OAuth (for Calendar & Gmail API)
# ============================================
# Get these from Google Cloud Console:
# https://console.cloud.google.com/apis/credentials

GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret

# Redirect URI - set both _LOCAL and _PROD versions
GOOGLE_REDIRECT_URI_LOCAL=http://localhost:3000/auth/google/callback
GOOGLE_REDIRECT_URI_PROD=https://your-production-domain.com/auth/google/callback

# ============================================
# AI Provider (for email parsing)
# ============================================
# You can configure one or both providers.
# The dashboard lets you choose which to use.

# For OpenAI (GPT-4o)
OPENAI_API_KEY=sk-your-openai-api-key

# For Anthropic (Claude 3.5 Sonnet)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# Legacy: If you only have one key, you can use AI_API_KEY
# It will be used as fallback for whichever provider you select
# AI_API_KEY=your-api-key-here

# ============================================
# Cron Schedule (Daily Summary)
# ============================================
# Default: Daily at 8:00 AM UTC
# Format: second minute hour day-of-month month day-of-week
CRON_SCHEDULE=0 0 8 * * *

# Timezone for cron jobs
TZ=UTC

# ============================================
# Google Drive Backups (Optional)
# ============================================
# Path to service account JSON credentials file
GOOGLE_SERVICE_ACCOUNT_PATH=/app/credentials.json

# Optional: Specific folder ID in Google Drive for backups
# Get from Drive URL: https://drive.google.com/drive/folders/FOLDER_ID_HERE
# GOOGLE_DRIVE_FOLDER_ID=your-folder-id-here

# ============================================
# Hosted Email (SES inbound webhook)
# ============================================
# REQUIRED if using SES inbound email feature
# Generate with: openssl rand -hex 32
# Must match WEBHOOK_SECRET in your Lambda environment variable
HOSTED_EMAIL_WEBHOOK_SECRET=your-webhook-secret-here

# ============================================
# AWS SES (Outbound Email Sending)
# ============================================
# Create an IAM user with ses:SendEmail permission on the SES domain
AWS_REGION=eu-north-1
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key
SES_FROM_DOMAIN=inbox.getfamilyassistant.com

# ============================================
# Deployment Settings (for deploy.sh)
# ============================================
# SSH user for deployment (default: root)
# REMOTE_USER=root

# Remote path for application (default: /app/inbox-manager)
# REMOTE_PATH=/app/inbox-manager
